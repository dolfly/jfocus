<html>

<head>
    <title>jFocus</title>
    <link rel='stylesheet' type='text/css' href='style.css'>
    <script type='text/javascript' src='jquery-1.7.1.min.js'></script>
    <script type='text/javascript' src='jquery.jfocus.js'></script>

    <script type='text/javascript'>
        KEY_CODES = {
            ENTER:13,
            SPACE:32,
            TAB:9,
            LEFT:37,
            UP:38,
            RIGHT:39,
            DOWN:40
        };

        $(document).ready(function() {
            $('.box').jfocus({
                next: [KEY_CODES.RIGHT],
                prev: [KEY_CODES.LEFT],
                select: [KEY_CODES.ENTER, KEY_CODES.SPACE],
                cirular: true,
                css: 'jfocus_focused',
                onfocus: function(elem) {
                    console.log('focus changed');
                },
                onselect: function(elem) {
                    console.log('item selected');
                }
            });
        });

        function addBox() {
            $('ul').append('<li class="box">NEW</li>');
        }
        function removeBox() {
            $('.box:visible').last().remove();
        }
        function hideBox() {
            $('.box:visible').last().hide();
            $('.box').jfocus();
        }
        function showBox() {
            $('.box:not(:visible)').last().show();
        }
    </script>
</head>

<body>
    <ul>
        <li class="box">1</li>
        <li class="box">2</li>
        <li class="box" style="display: none;">3</li>
        <li class="box">4</li>
        <li class="box">5</li>
        <li class="box">6</li>
        <li class="box" style="display: none;">7</li>
    </ul>

    <input type="button" value="Add" onclick="addBox();"/>
    <input type="button" value="Remove" onclick="removeBox();"/>
    <input type="button" value="Hide" onclick="hideBox();"/>
    <input type="button" value="Show" onclick="showBox();"/>
</body>

</html>